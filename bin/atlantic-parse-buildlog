#!/usr/bin/env python

import json
import sys

resp = {
    "warning": [],
    "error": [],
    "info": [],
    "pedantic": [],
    "other": []
}

flags = {
    "W: ": "warning",
    "E: ": "error",
    "I: ": "info",
    "P: ": "pedantic"
}

flag = 3

lines = open(sys.argv[1], 'r').readlines()

for line in lines:
    f = line[:flag]
    if f in flags:
        resp[flags[f]].append(line.strip())

print json.dumps(resp)
